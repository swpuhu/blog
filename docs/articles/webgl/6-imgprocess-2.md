# 图像处理技术进阶

本文紧接着[图像处理技术](./5-imgprocess)一文，如果你还没有读过，我建议你从那儿开始读起。

在上篇文章中，我们学会了如何使用一个 Shader 来处理一幅图像。今天我们要解决的问题是：

如何在一幅图像中应用多个效果呢？比如：我想对图片进行一次调色，然后再对其进行模糊的操作。当然，这一切你可以都写在同一个 Shader 中。但是这也会带来很多的问题：

1. 不够灵活，把所有的效果都写在一个 Shader 中会让我们的组合变得非常的不灵活。
2. 有的效果在一个 shader 中根本就难以实现，比如：模糊效果

一种灵活的方式是：

利用多个 shader，一个 shader 代表了一种图像处理效果，我们可以利用多个 shader 来反复的处理图像。具体的流程可以参考下图：

<ImgContainer :srcs="['/img/6-imgprocess2/img-process.png']"/>

## 帧缓冲技术 / Framebuffer

在上图中，我们可以看到我们使用了一种中间纹理来将每一步的处理结果暂存起来。首先，我们介绍一下什么是帧缓冲技术。

### 什么是帧缓冲技术？

WebGL 中的帧缓冲技术是一种允许你渲染到纹理或渲染缓冲中的技术。

1. 它可以用来实现一些高级的图形效果，如后处理、阴影、反射等
2. 不过，“帧缓冲”这个名字事实上是一个糟糕的名字，一个帧缓冲对象（`Framebuffer Object`）是一个包含了多个附件（attachments）的对象，其中每个附件都可以是一个纹理(`Texture`)或一个渲染缓冲（`RenderBuffer`)。

### 如何创建帧缓冲对象

我们可以通过以下的步骤来创建一个帧缓冲对象，并为其绑定一个纹理。

<WebGLImgProcess2/>
